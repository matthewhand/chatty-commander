
============================================================
ChattyCommander System Test Report
============================================================

Test Summary:
  Total Tests: 56
  Passed: 55
  Failed: 1
  Errors: 0
  Success Rate: 98.2% if total_tests > 0 else 0

Duration: 21.02 seconds
Completed: 2025-07-29 13:39:48

============================================================
Detailed Results:
============================================================

Installation:
  ✓ [PASS] ✓ 'chatty' command available at: /home/matthewh/chatty-commander/.venv/bin/chatty
  ✓ [PASS] ✓ Module 'config' imports successfully
  ✓ [PASS] ✓ Module 'state_manager' imports successfully
  ✓ [PASS] ✓ Module 'model_manager' imports successfully
  ✓ [PASS] ✓ Module 'command_executor' imports successfully
  ✓ [PASS] ✓ Module 'cli' imports successfully

CLI Help:
  ✓ [PASS] ✓ Main help: Help displayed correctly
  ✓ [PASS] ✓ Run command help: Help displayed correctly
  ✓ [PASS] ✓ GUI command help: Help displayed correctly
  ✓ [PASS] ✓ Config command help: Help displayed correctly
  ✓ [PASS] ✓ System command help: Help displayed correctly
  ✓ [PASS] ✓ Start-on-boot help: Help displayed correctly
  ✓ [PASS] ✓ Updates help: Help displayed correctly

Config Loading:
  ✓ [PASS] ✓ Config has required attribute 'model_actions'
  ✓ [PASS] ✓ Config has required attribute 'state_models'
  ✓ [PASS] ✓ Config has required attribute 'api_endpoints'
  ✓ [PASS] ✓ Config has required attribute 'general_models_path'
  ✓ [PASS] ✓ Config has required attribute 'system_models_path'
  ✓ [PASS] ✓ Config has required attribute 'chat_models_path'
  ✓ [PASS] ✓ Config has required attribute 'debug_mode'
  ✓ [PASS] ✓ Config has required attribute 'default_state'
  ✓ [PASS] ✓ State 'idle' configured with models: ['hey_chat_tee', 'hey_khum_puter', 'okay_stop', 'lights_on', 'lights_off']
  ✓ [PASS] ✓ State 'computer' configured with models: ['oh_kay_screenshot', 'okay_stop']
  ✓ [PASS] ✓ State 'chatty' configured with models: ['wax_poetic', 'thanks_chat_tee', 'that_ill_do', 'okay_stop']
  ✓ [PASS] ✓ Command 'take_screenshot' configured: {'keypress': 'alt+print_screen'}
  ✓ [PASS] ✓ Command 'paste' configured: {'keypress': 'ctrl+v'}
  ✓ [PASS] ✓ Command 'submit' configured: {'keypress': 'enter'}
  ✓ [PASS] ✓ Command 'cycle_window' configured: {'keypress': 'alt+tab'}
  ✓ [PASS] ✓ Command 'oh_kay_screenshot' configured: {'keypress': 'alt+print_screen'}
  ✓ [PASS] ✓ Command 'wax_poetic' configured: {'url': 'http://localhost:3000/'}
  ✓ [PASS] ✓ Command 'lights_on' configured: {'url': 'http://homeassistant.domain.home:8123/api/lights_on'}
  ✓ [PASS] ✓ Command 'lights_off' configured: {'url': 'http://homeassistant.domain.home:8123/api/lights_off'}

Config Management:
  ✗ [FAIL] ✗ Config listing failed: Traceback (most recent call last):
  File "/home/matthewh/chatty-commander/.venv/bin/chatty", line 8, in <module>
    sys.exit(cli_main())
             ^^^^^^^^^^
  File "/home/matthewh/chatty-commander/cli.py", line 151, in cli_main
    args.func(args)
  File "/home/matthewh/chatty-commander/cli.py", line 20, in config_func
    cli.list_config()
  File "/home/matthewh/chatty-commander/config_cli.py", line 72, in list_config
    keybinding = action.get('keypress', 'N/A')
                 ^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get'

  ✓ [PASS] ✓ Model action setting works
  ✓ [PASS] ✓ State model setting works

System Management:
  ✓ [PASS] ✓ Start-on-boot status check works
  ✓ [PASS] ✓ Start-on-boot enable works
  ✓ [PASS] ✓ Start-on-boot disable works
  ✓ [PASS] ✓ Update checking works
  ✓ [PASS] ✓ Auto-update enable works
  ✓ [PASS] ✓ Auto-update disable works

State Transitions:
  ✓ [PASS] ✓ Initial state is 'idle'
  ✓ [PASS] ✓ Command 'hey_chat_tee' transitions to 'chatty'
  ✓ [PASS] ✓ Command 'hey_khum_puter' transitions to 'computer'
  ✓ [PASS] ✓ Command 'okay_stop' transitions to 'idle'
  ✓ [PASS] ✓ Command 'toggle_mode' transitions to 'computer'
  ✓ [PASS] ✓ Invalid state change raises ValueError correctly

Model Manager:
  ✓ [PASS] ✓ Model path exists: models-idle
  ✓ [PASS] ✓ Model path exists: models-computer
  ✓ [PASS] ✓ Model path exists: models-chatty
  ✓ [PASS] ✓ Models loaded for state 'idle'
  ✓ [PASS] ✓ Models loaded for state 'computer'
  ✓ [PASS] ✓ Models loaded for state 'chatty'

Command Executor:
  ✓ [PASS] ✓ Command validation works for 'take_screenshot'
  ✓ [PASS] ✓ Invalid command correctly rejected with exception

GUI Launch:
  ✓ [PASS] ✓ GUI launches successfully (terminated by timeout as expected)

============================================================
Failures and Errors:
============================================================

[FAIL] Config Management: ✗ Config listing failed: Traceback (most recent call last):
  File "/home/matthewh/chatty-commander/.venv/bin/chatty", line 8, in <module>
    sys.exit(cli_main())
             ^^^^^^^^^^
  File "/home/matthewh/chatty-commander/cli.py", line 151, in cli_main
    args.func(args)
  File "/home/matthewh/chatty-commander/cli.py", line 20, in config_func
    cli.list_config()
  File "/home/matthewh/chatty-commander/config_cli.py", line 72, in list_config
    keybinding = action.get('keypress', 'N/A')
                 ^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get'



============================================================
Raw Test Data (JSON):
============================================================
[
  {
    "timestamp": "13:39:27",
    "test_name": null,
    "message": "\u2713 Configuration backed up",
    "status": null
  },
  {
    "timestamp": "13:39:27",
    "test_name": "Installation",
    "message": "Testing installation...",
    "status": null
  },
  {
    "timestamp": "13:39:27",
    "test_name": "Installation",
    "message": "\u2713 'chatty' command available at: /home/matthewh/chatty-commander/.venv/bin/chatty",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:27",
    "test_name": "Installation",
    "message": "\u2713 Module 'config' imports successfully",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:27",
    "test_name": "Installation",
    "message": "\u2713 Module 'state_manager' imports successfully",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:28",
    "test_name": "Installation",
    "message": "\u2713 Module 'model_manager' imports successfully",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:28",
    "test_name": "Installation",
    "message": "\u2713 Module 'command_executor' imports successfully",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:29",
    "test_name": "Installation",
    "message": "\u2713 Module 'cli' imports successfully",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:29",
    "test_name": "CLI Help",
    "message": "Testing CLI help commands...",
    "status": null
  },
  {
    "timestamp": "13:39:29",
    "test_name": "CLI Help",
    "message": "\u2713 Main help: Help displayed correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:30",
    "test_name": "CLI Help",
    "message": "\u2713 Run command help: Help displayed correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:31",
    "test_name": "CLI Help",
    "message": "\u2713 GUI command help: Help displayed correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:31",
    "test_name": "CLI Help",
    "message": "\u2713 Config command help: Help displayed correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:32",
    "test_name": "CLI Help",
    "message": "\u2713 System command help: Help displayed correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:33",
    "test_name": "CLI Help",
    "message": "\u2713 Start-on-boot help: Help displayed correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "CLI Help",
    "message": "\u2713 Updates help: Help displayed correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "Testing configuration loading...",
    "status": null
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'model_actions'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'state_models'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'api_endpoints'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'general_models_path'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'system_models_path'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'chat_models_path'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'debug_mode'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Config has required attribute 'default_state'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 State 'idle' configured with models: ['hey_chat_tee', 'hey_khum_puter', 'okay_stop', 'lights_on', 'lights_off']",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 State 'computer' configured with models: ['oh_kay_screenshot', 'okay_stop']",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 State 'chatty' configured with models: ['wax_poetic', 'thanks_chat_tee', 'that_ill_do', 'okay_stop']",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'take_screenshot' configured: {'keypress': 'alt+print_screen'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'paste' configured: {'keypress': 'ctrl+v'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'submit' configured: {'keypress': 'enter'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'cycle_window' configured: {'keypress': 'alt+tab'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'oh_kay_screenshot' configured: {'keypress': 'alt+print_screen'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'wax_poetic' configured: {'url': 'http://localhost:3000/'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'lights_on' configured: {'url': 'http://homeassistant.domain.home:8123/api/lights_on'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Loading",
    "message": "\u2713 Command 'lights_off' configured: {'url': 'http://homeassistant.domain.home:8123/api/lights_off'}",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Management",
    "message": "Testing configuration management...",
    "status": null
  },
  {
    "timestamp": "13:39:34",
    "test_name": "Config Management",
    "message": "\u2717 Config listing failed: Traceback (most recent call last):\n  File \"/home/matthewh/chatty-commander/.venv/bin/chatty\", line 8, in <module>\n    sys.exit(cli_main())\n             ^^^^^^^^^^\n  File \"/home/matthewh/chatty-commander/cli.py\", line 151, in cli_main\n    args.func(args)\n  File \"/home/matthewh/chatty-commander/cli.py\", line 20, in config_func\n    cli.list_config()\n  File \"/home/matthewh/chatty-commander/config_cli.py\", line 72, in list_config\n    keybinding = action.get('keypress', 'N/A')\n                 ^^^^^^^^^^\nAttributeError: 'str' object has no attribute 'get'\n",
    "status": "FAIL"
  },
  {
    "timestamp": "13:39:35",
    "test_name": "Config Management",
    "message": "\u2713 Model action setting works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:36",
    "test_name": "Config Management",
    "message": "\u2713 State model setting works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:36",
    "test_name": "System Management",
    "message": "Testing system management...",
    "status": null
  },
  {
    "timestamp": "13:39:36",
    "test_name": "System Management",
    "message": "\u2713 Start-on-boot status check works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:37",
    "test_name": "System Management",
    "message": "\u2713 Start-on-boot enable works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:38",
    "test_name": "System Management",
    "message": "\u2713 Start-on-boot disable works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:40",
    "test_name": "System Management",
    "message": "\u2713 Update checking works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:40",
    "test_name": "System Management",
    "message": "\u2713 Auto-update enable works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "System Management",
    "message": "\u2713 Auto-update disable works",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "State Transitions",
    "message": "Testing state transitions...",
    "status": null
  },
  {
    "timestamp": "13:39:41",
    "test_name": "State Transitions",
    "message": "\u2713 Initial state is 'idle'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "State Transitions",
    "message": "\u2713 Command 'hey_chat_tee' transitions to 'chatty'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "State Transitions",
    "message": "\u2713 Command 'hey_khum_puter' transitions to 'computer'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "State Transitions",
    "message": "\u2713 Command 'okay_stop' transitions to 'idle'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "State Transitions",
    "message": "\u2713 Command 'toggle_mode' transitions to 'computer'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "State Transitions",
    "message": "\u2713 Invalid state change raises ValueError correctly",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:41",
    "test_name": "Model Manager",
    "message": "Testing model manager...",
    "status": null
  },
  {
    "timestamp": "13:39:42",
    "test_name": "Model Manager",
    "message": "\u2713 Model path exists: models-idle",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:42",
    "test_name": "Model Manager",
    "message": "\u2713 Model path exists: models-computer",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:42",
    "test_name": "Model Manager",
    "message": "\u2713 Model path exists: models-chatty",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:42",
    "test_name": "Model Manager",
    "message": "\u2713 Models loaded for state 'idle'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:42",
    "test_name": "Model Manager",
    "message": "\u2713 Models loaded for state 'computer'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:43",
    "test_name": "Model Manager",
    "message": "\u2713 Models loaded for state 'chatty'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:43",
    "test_name": "Command Executor",
    "message": "Testing command executor...",
    "status": null
  },
  {
    "timestamp": "13:39:43",
    "test_name": "Command Executor",
    "message": "\u2713 Command validation works for 'take_screenshot'",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:43",
    "test_name": "Command Executor",
    "message": "\u2713 Invalid command correctly rejected with exception",
    "status": "PASS"
  },
  {
    "timestamp": "13:39:43",
    "test_name": "GUI Launch",
    "message": "Testing GUI launch...",
    "status": null
  },
  {
    "timestamp": "13:39:48",
    "test_name": "GUI Launch",
    "message": "\u2713 GUI launches successfully (terminated by timeout as expected)",
    "status": "PASS"
  }
]